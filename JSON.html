<!-- CIT 261 HTML Tags page-->
<html>
    <head>
        <title>CIT 261 Weekly Technology Topics</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="main.css" type="text/css" rel="stylesheet">
    </head>
    <body>
<h2>Make a table based on the value of a drop down menu.</h2>

<select id="myselect" onchange="change_myselect(this.value)">
  <option value="">Choose an option:</option>
  <option value="customers">Customers</option>
  <option value="products">Products</option>
  <option value="suppliers">Suppliers</option>
</select>

<p id="demo"></p>

<script>
function change_myselect(sel) {
  var obj, dbParam, xmlhttp, myObj, x, txt = "";
  obj = { table: sel, limit: 20 };
  dbParam = JSON.stringify(obj);
  xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      myObj = JSON.parse(this.responseText);
      txt += "<table border='1'>"
      for (x in myObj) {
        txt += "<tr><td>" + myObj[x].name + "</td></tr>";
      }
      txt += "</table>"    
      document.getElementById("demo").innerHTML = txt;
      }
    };
  xmlhttp.open("POST", "json_demo_db_post.php", true);
  xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  xmlhttp.send("x=" + dbParam);
}
</script>
        
        
        <ul id="navlist">
            <li id="active"><a href="index.html" id="current">Home</a></li>
        </ul>

<h3>Example of using JSON and turning it into Javascript Objects</h3>

<p id="jsonExample"></p>
<b>Use of Javascript object :</b>
<p id="json1"></p>

<script>
var information ='{ "name":"Brendan Eich","designerof":"Javascript","bornin":"1961" }';

// Here we convert JSON to object
var obj = JSON.parse(jsonobj);

document.getElementById("json1").innerHTML =
obj.name + ", who was born in "
+ obj.bornin + ", was the designer of "
+ obj.designerof;
document.getElementById("jsonExample").innerHTML =information;
</script>
        <footer>
            <p>Copyright &copy; 2019 Ryan Weston &nbsp; - &nbsp; Last updated: 6 May 2019</p>
        </footer>
    </body>
</html>
